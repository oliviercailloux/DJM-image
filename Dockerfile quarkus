# syntax=docker/dockerfile:1
FROM ghcr.io/oliviercailloux/djm
RUN apt-get update && apt-get -qy --no-install-recommends install git openssh-client
WORKDIR /app/
RUN git clone --depth 1 --filter=blob:none --sparse https://github.com/quarkusio/quarkus-quickstarts.git
WORKDIR quarkus-quickstarts/
RUN git sparse-checkout set getting-started/
WORKDIR getting-started/
RUN mvn $MAVEN_CLI_OPTS org.apache.maven.plugins:maven-dependency-plugin:3.3.0:resolve org.apache.maven.plugins:maven-dependency-plugin:3.3.0:resolve-plugins
CMD ["jshell"]

